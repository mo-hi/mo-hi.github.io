<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Mario Hamidi">
    <title>B JS</title>
    <link rel="stylesheet" href="../css/paper.css">
    <link rel="stylesheet" href="../css/width.css">
    <link rel="stylesheet" href="../css/basis.css">
</head>
<body class="wr-800-400">
    <div class="h-30"></div>
    <!-- ----------------------------------------------------------------------------------------- -->
    <h1>b.JS</h1>
    <p class="big">
        b.JS is a javascript class providing additional functionaly to javascript data types
        like arrays, string and to html dom elements. To use b.JS in your project, just add the following script reference to your project:
    </p>

    <codeblock>
        (-script src="https://mo-hi.github.io/bjs/js/b.js"-) (-/script-)
    </codeblock>

    <p>
        That's it. Enjoy! <a href="https://github.com/mo-hi/mo-hi.github.io">Link to github repo</a>
    </p>

    <!-- ----------------------------------------------------------------------------------------- -->
    <h1>Prototype Functions</h1>

    <div id="id-docstrings">

    </div>
</body>

<script src="js/b.js"></script>
<script src="docstrings.js"></script>
<script >
    let targetdiv = document.getElementById(id="id-docstrings")
    let docstrings = FromFile_docstrings_js

    let tocIDs = docstrings.keyValues('h2').removeDuplicates()
    let ul = ToC(tocIDs); ul.className = 'horizontal'
    targetdiv.appendChild(ul)

    WrtieDataToDiv(targetdiv, docstrings)

    DOM_Replace(['b.JS'], ['<b>b.JS</b>'], ['p'])
    DOM_Replace(['(-', '-)'], ["&lt;", "&gt;"], ['codeblock'])

    // functions
    function WrtieDataToDiv(targetdiv, data) {
        data.forEach(item => {
            let keys = Object.keys(item)
            keys.forEach(key => {
                let div = document.createElement(key)
                if (key == 'h2') div.id = item[key]
                div.innerHTML = item[key]
                targetdiv.appendChild(div)
            })
        })
    }

    function ToC(listofIDs) {
        let ul = document.createElement('ul')
        listofIDs.forEach(id => {
            let li = document.createElement('li')
            let a = document.createElement('a')
            a.href = '#' + id; a.innerHTML = id
            li.appendChild(a)
            ul.appendChild(li)
        })
        return ul
    }

</script>
</html>