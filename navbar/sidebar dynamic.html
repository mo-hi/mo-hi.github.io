<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Mario Hamidi">
    <title>sidebar css</title>
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="../css/basis.css">
    <link rel="stylesheet" href="../css/paper.css">
    <link rel="stylesheet" href="../css/width.css">
</head>
<body class="wr-800-400">
    <div class="h-30"></div>
    <!-- ----------------------------------------------------------------------------------------- -->   
    <main>
        <h2>nav.css</h2>
        <h2x>(dynamic sidebar)</h2x>
        <section>
            <h3>About</h3>
            <p id = 'id-start'><!-- filled via script--></p> 
        </section>

        <section>
            <h3>nav.css as sidebar with dynamic content</h3>
            <p>
                In its basic form, the only difference to make a navbar to a sidebar
                is to wrap the  html inside a &lt;ul&gt; tag (instead of &lt;nav&gt;) and to use  
                &lt;li&gt; tags (instead of &lt;a&gt;) for the sidebar items. Hence The sidear is intended to call functions and not intended
                to be used for links. 
            </p> 
            
                In this version, the sidebar is created based on data. In your html project you have to call 
                <c>nav_AutoFillSidebar("id-sidebar", sidebarData, foo)</c> with two parameters on page load: 
                The target divID (in This example'id-sidebar') where the sidebar shall appea, 
                the actual data, from which the sidebar will be build (in this example 'sidebarData') and
                the function that shall be called when a sidebar item is clicked (in this example 'foo').
            </p>
            <codeblock><pre style="margin-left: -12ch">
                &lt;script&gt;
                    nav_AutoFillSidebar("id-sidebar", sidebarData, foo)
                &lt;/script&gt;</pre>
            </codeblock><br>
            <p>
                Here' how the result will look like. You can click on the items to see the effect. 
                The effect of the function <c>foo</c> applies only to the first item in the sidebar:
                When you click on "Australia" the sidebar will change to a different data set, starting with "Asia".
                When you click on "Asia" the sidebar will change back to the original data set:
            </p>
            <p>
                <table class="w-100">
                    <tr>
                        <td class="w-30 pt-20 top">
                            <ul id="id-sidebar" class="sidebar sidebar-auto-fill">
                                <!-- filled via script-->
                            </ul>
                        </td>
                        <td class="top w-70"><codeblock><pre>
const sidebarData = [
    { name: "Australia" },
    {
        name: "Europe",
        children: [
            {
            name: "Germany",
            children: [
                {
                name: "Bavaria",
                children: [
                    {
                    name: "Munich",
                    children: [
                        { name: "Schwabing" },
                        { name: "Neuhausen" },
                        { name: "Feldmoching" },
                    ],
                    },
                    { name: "Regensburg" },
                    { name: "Rosenheim" },
                ],
                },
                { name: "Saxony" },
                { name: "NRW" },
            ],
            },
            { name: "France" },
            { name: "Italy" },
        ],
        },
        { name: "Zoomania" },
    ];</pre>
                        </codeblock>
                        </td>
                    </tr>
                </table>
            </p>
        </section>

        <br>
        <hr>
        <section>
            <p id="id-end"><!-- filled via script--></p>
        </section>
    </main>
    
<br>

</body>
    <script src="https://mo-hi.github.io/bjs/js/b.js"> </script>
    <script src="js/nav.js"></script>
    <script src="js/text.js"></script>
    <script src="js/sideData.js"></script>
    <script src="js/sideData copy.js"></script>
    <script>
        let ids = ["id-start", "id-end"]
        for (id of ids) {
            document.getElementById(id).innerHTML = textBlocks[id]}
        
        nav_AutoFillSidebar("id-sidebar", sidebarData, foo)

        function foo(event) {
            let li= null
            if (event instanceof PointerEvent) li = event.target;
            if (event instanceof HTMLElement) li = event;
            if (event instanceof TouchEvent) li = event.target;
            console.log(li.innerHTML)

            if (li.innerHTML.includes("Australia")) {
                nav_AutoFillSidebar("id-sidebar", sidebarDataCopy, foo)
            }
            if (li.innerHTML.includes("Asia")) {
                nav_AutoFillSidebar("id-sidebar", sidebarData, foo)
            }
        }
    </script>
</html>